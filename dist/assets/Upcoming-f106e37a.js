import{r as m,C as f,j as t,F as h,a as e,b as v,m as b}from"./index-d1bcf438.js";import{T as y,A as N,M as w}from"./TopHeader-47cdb9a1.js";import"./slugify-5e1f0bd6.js";function L(){const{loader:d,loadingMore:r,setPage:c,page:a,fetchUpcoming:g,upcoming:n,setUpcoming:p,totalPage:l}=m.useContext(f);m.useEffect(()=>{c(1),p([])},[]),m.useEffect(()=>{a>0&&g()},[a]);const u=()=>{a<l&&!r&&c(a+1)},i=s=>{s!==a&&s>=1&&s<=l&&!r&&(p([]),c(s))};return t(h,{children:[e(v,{children:e("title",{children:"MovieMate | Upcoming movies"})}),t("div",{className:"w-full mb-20 md:mb-0",children:[e(y,{}),t("div",{className:"px-6 py-4",children:[e(b.div,{layout:!0,className:"flex flex-wrap relative justify-evenly md:justify-around",children:e(N,{children:d?e("div",{className:"w-full flex justify-center py-10",children:e("span",{className:"loader"})}):e("div",{className:"w-full md:p-2 flex flex-wrap relative justify-evenly md:justify-around",children:n.map(s=>e(w,{movie:s},`${s.id}-${a}`))})})}),!d&&n.length>0&&t("div",{className:"flex flex-col items-center mt-8 space-y-4",children:[a<l&&e("button",{onClick:u,disabled:r,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:r?t(h,{children:[e("span",{className:"loader-small"}),e("span",{children:"Loading Upcoming..."})]}):t(h,{children:[e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"Load More Upcoming"})]})}),t("div",{className:"text-gray-400 text-sm text-center flex items-center space-x-2",children:[e("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t("span",{children:["Page ",a," of ",l," â€¢ ",n.length," upcoming movies loaded"]})]}),a===l&&t("div",{className:"text-green-400 text-sm flex items-center space-x-1",children:[e("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e("span",{children:"All upcoming movies loaded!"})]}),t("div",{className:"flex items-center space-x-2 flex-wrap justify-center",children:[e("button",{onClick:()=>i(1),disabled:a===1||r,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"First"}),e("button",{onClick:()=>i(a-1),disabled:a===1||r,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,l)},(s,x)=>{const o=Math.max(1,Math.min(l-4,a-2))+x;return o<=l?e("button",{onClick:()=>i(o),disabled:r,className:`px-3 py-2 rounded transition-colors ${o===a?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-white hover:bg-red-600"} disabled:opacity-50`,children:o},o):null})}),e("button",{onClick:()=>i(a+1),disabled:a===l||r,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"}),e("button",{onClick:()=>i(l),disabled:a===l||r,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Last"})]}),t("div",{className:"flex items-center space-x-2 bg-green-900/30 px-4 py-2 rounded-full border border-green-600/30",children:[e("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.343 12.344l1.414 1.414L9.5 9.5M12 6V4m6.364 1.636l-1.414 1.414M20 12h-2M6.364 6.364L4.95 4.95M4 12H2m6.364 6.364l1.414-1.414M12 20v-2"})}),e("span",{className:"text-green-400 text-sm font-medium",children:"Coming Soon to Theaters"})]})]}),!d&&n.length===0&&t("div",{className:"text-center py-10",children:[e("div",{className:"text-gray-400 text-lg mb-2",children:"No upcoming movies found"}),e("div",{className:"text-gray-500 text-sm",children:"Check back later for the latest upcoming releases"})]})]})]})]})}export{L as default};
