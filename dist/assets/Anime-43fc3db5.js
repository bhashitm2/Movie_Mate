import{r as c,C as y,j as s,a as e,m as b,F as f}from"./index-d1bcf438.js";import{T as v,A as N,M as w}from"./TopHeader-47cdb9a1.js";import{G as C}from"./Genre-a0adde57.js";import"./slugify-5e1f0bd6.js";function E(){const{movies:n,loader:m,loadingMore:l,page:a,setPage:o,totalPage:t,setMovies:p,activegenre:h,fetchAnime:u}=c.useContext(y);c.useEffect(()=>{o(1)},[]),c.useEffect(()=>{p([]),o(1)},[h]),c.useEffect(()=>{a>0&&u()},[a]);const g=()=>{a<t&&!l&&o(a+1)},i=r=>{r!==a&&r>=1&&r<=t&&!l&&(p([]),o(r))};return s("div",{className:"w-full mb-20 md:mb-0",children:[e(v,{}),s("div",{className:"px-6 py-4",children:[e(C,{}),e(b.div,{layout:!0,className:"flex flex-wrap relative justify-evenly md:justify-around",children:e(N,{children:m?e("div",{className:"w-full flex justify-center py-10",children:e("span",{className:"loader"})}):e("div",{className:"w-full md:p-2 flex flex-wrap relative justify-evenly md:justify-around",children:n.map(r=>e(w,{movie:r},`${r.id}-${a}`))})})}),!m&&n.length>0&&s("div",{className:"flex flex-col items-center mt-8 space-y-4",children:[a<t&&e("button",{onClick:g,disabled:l,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:l?s(f,{children:[e("span",{className:"loader-small"}),e("span",{children:"Loading Anime..."})]}):"Load More Anime"}),s("div",{className:"text-gray-400 text-sm text-center",children:["Page ",a," of ",t," â€¢ ",n.length," anime loaded",a===t&&e("div",{className:"text-green-400 mt-1",children:"All anime loaded!"})]}),s("div",{className:"flex items-center space-x-2 flex-wrap justify-center",children:[e("button",{onClick:()=>i(1),disabled:a===1||l,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"First"}),e("button",{onClick:()=>i(a-1),disabled:a===1||l,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,t)},(r,x)=>{const d=Math.max(1,Math.min(t-4,a-2))+x;return d<=t?e("button",{onClick:()=>i(d),disabled:l,className:`px-3 py-2 rounded transition-colors ${d===a?"bg-purple-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"} disabled:opacity-50`,children:d},d):null})}),e("button",{onClick:()=>i(a+1),disabled:a===t||l,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}),e("button",{onClick:()=>i(t),disabled:a===t||l,className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Last"})]})]}),!m&&n.length===0&&s("div",{className:"text-center py-10",children:[e("div",{className:"text-gray-400 text-lg",children:"No anime found"}),e("div",{className:"text-gray-500 text-sm mt-2",children:"Try changing the genre or check back later"})]})]})]})}export{E as default};
